<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalkulator Zakat - Djebeng Wibowo</title>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Plus+Jakarta+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root { --nusuk-gold: #c5a059; --nusuk-green: #0b4a3f; --nusuk-bg: #f9f7f2; --white: #ffffff; }
        body { font-family: 'Plus Jakarta Sans', sans-serif; background: var(--nusuk-bg); margin: 0; padding: 20px 0; display: flex; justify-content: center; align-items: flex-start; min-height: 100vh; overflow-x: hidden; position: relative; }
        
        .bg-animate { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -2; background: linear-gradient(135deg, #f9f7f2 0%, #ece5d5 100%); }
        .floating-icon { position: absolute; opacity: 0.6; animation: floatUp 15s infinite linear; filter: drop-shadow(0 0 10px rgba(197, 160, 89, 0.4)); z-index: -1; }
        @keyframes floatUp { 0% { transform: translateY(110vh) rotate(0deg); opacity: 0; } 10% { opacity: 0.6; } 90% { opacity: 0.6; } 100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; } }

        /* Container 85% untuk mobile agar animasi samping terlihat */
        .container { width: 85%; max-width: 500px; background: var(--white); border-radius: 20px; box-shadow: 0 15px 35px rgba(0,0,0,0.08); padding: 25px 20px; border-top: 8px solid var(--nusuk-gold); position: relative; z-index: 5; margin: 20px auto; }
        @media (min-width: 600px) { .container { width: 100%; } }

        header { text-align: center; margin-bottom: 20px; }
        h1 { color: var(--nusuk-green); font-size: 1.6rem; margin: 0; font-weight: 800; letter-spacing: -0.5px; }

        .form-section { background: #fafafa; padding: 15px; border-radius: 14px; border: 1px solid #f0f0f0; margin-bottom: 12px; }
        label { display: block; margin-bottom: 6px; font-weight: 600; color: var(--nusuk-green); font-size: 0.8rem; }
        select, input { width: 100%; padding: 12px; border: 1.5px solid #e8e8e8; border-radius: 10px; font-size: 0.9rem; box-sizing: border-box; appearance: none; background-color: white; }

        button { width: 100%; padding: 15px; background: var(--nusuk-green); color: white; border: none; border-radius: 12px; font-size: 1rem; font-weight: 700; cursor: pointer; margin-top: 5px; transition: 0.3s; box-shadow: 0 4px 15px rgba(11, 74, 63, 0.2); }
        button:hover { background: #08362e; transform: translateY(-1px); }

        .result-card { background: #fdfaf3; border: 1.5px solid #f1e6cf; border-radius: 16px; padding: 20px; margin-top: 25px; animation: fadeIn 0.5s ease; display: none; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        .total-amount { font-size: 1.8rem; color: var(--nusuk-green); font-weight: 800; text-align: center; margin: 10px 0; word-wrap: break-word; }
        .nisab-warning { font-size: 0.85rem; color: #d9534f; font-weight: 700; text-align: center; margin-bottom: 10px; display: none; line-height: 1.4; }
        
        .arabic { font-family: 'Amiri', serif; font-size: 1.1rem; text-align: center; direction: rtl; line-height: 1.6; margin-bottom: 12px; color: var(--nusuk-green); padding: 0 5px; }
        .translation { font-style: italic; font-size: 0.75rem; color: #555; text-align: center; margin-bottom: 8px; line-height: 1.5; }
        .source-tag { font-weight: 700; color: var(--nusuk-gold); font-size: 0.7rem; text-align: center; display: block; text-transform: uppercase; margin-bottom: 15px; }
        
        .rule-box { border-top: 1px dashed #dcc7a1; padding-top: 12px; margin-top: 5px; text-align: center; }
        .rule-tag { font-size: 0.65rem; color: var(--nusuk-green); font-weight: 700; background: #eee5d3; padding: 3px 8px; border-radius: 20px; display: inline-block; margin-bottom: 4px; }
        .rule-text { font-size: 0.75rem; color: #444; display: block; font-weight: 500; }

        .copyright { text-align: center; margin-top: 20px; font-size: 0.7rem; color: #999; font-weight: 500; padding-bottom: 10px; }
        .copyright a { color: #999; text-decoration: none; border-bottom: 1px solid transparent; }
    </style>
</head>
<body>
    <div class="bg-animate" id="bgLayer"></div>
    <div class="container">
        <header>
            <h1 id="appTitle">Kalkulator Zakat</h1>
        </header>

        <div class="form-section">
            <label id="lblLangSelect">1. Pilih Bahasa / Select Language</label>
            <select id="language" onchange="updateUI()">
                <option value="id">Bahasa Indonesia</option>
                <option value="en">English</option>
                <option value="zh">ä¸­æ–‡ (Chinese)</option>
                <option value="fr">FranÃ§ais (French)</option>
                <option value="de">Deutsch (German)</option>
                <option value="es">EspaÃ±ol (Spanish)</option>
            </select>
        </div>

        <div class="form-section">
            <label id="lblType">2. Pilih Jenis Zakat</label>
            <select id="zakatType" onchange="toggleInputs()">
                <option value="" id="optDefault">-- Pilih Jenis Zakat --</option>
                <option value="fitrah" id="optFitrah">Zakat Fitrah</option>
                <option value="maal" id="optMaal">Zakat Maal (Tabungan/Uang)</option>
                <option value="emas" id="optEmas">Zakat Emas & Perak</option>
                <option value="tijarah" id="optTijarah">Zakat Perdagangan</option>
                <option value="zuru" id="optZuru">Zakat Pertanian</option>
                <option value="rikaz" id="optRikaz">Zakat Rikaz (Temuan 20%)</option>
                <option value="profesi" id="optProfesi">Zakat Profesi (Gaji)</option>
            </select>
        </div>

        <div id="dynamicInputs" class="form-section" style="display:none;">
            <div id="fitrahFields" style="display:none;">
                <label id="lblPrice">Harga Beras per Kg</label>
                <input type="number" id="ricePrice" placeholder="0">
                <label id="lblSoul" style="margin-top:10px;">Jumlah Orang (Jiwa)</label>
                <input type="number" id="soulCount" placeholder="0">
            </div>
            
            <div id="emasFields" style="display:none;">
                <label id="lblGoldWeight">Total Berat (Gram)</label>
                <input type="number" id="goldWeight" placeholder="0">
                <label id="lblGoldPrice" style="margin-top:10px;">Harga Emas Saat Ini (per Gram)</label>
                <input type="number" id="goldPrice" placeholder="0">
            </div>

            <div id="otherFields" style="display:none;">
                <label id="lblValue">Total Nilai Harta / Hasil</label>
                <input type="number" id="totalValue" placeholder="0">
            </div>
        </div>

        <button id="btnCalc" onclick="calculateZakat()">Hitung Zakat</button>

        <div id="resultBox" class="result-card">
            <div id="nisabWarn" class="nisab-warning"></div>
            <div id="resTotal" class="total-amount"></div>
            <div id="resArabic" class="arabic"></div>
            <div id="resTrans" class="translation"></div>
            <div id="resSource" class="source-tag"></div>
            
            <div class="rule-box">
                <span id="lblRule" class="rule-tag">Nisab & Haul</span>
                <span id="resRule" class="rule-text"></span>
            </div>
        </div>
        
        <div class="copyright">
            Â© 2026 <a href="https://djebengwibowo.github.io/myblog/#about" target="_blank">Djebeng Wibowo</a>. All Right Reserved.
        </div>
    </div>

<script>
    const zakatData = {
        id: {
            title: "Kalkulator Zakat", btn: "Hitung Zakat", soul: "Jumlah Orang (Jiwa)", price: "Harga Beras per Kg", 
            value: "Total Nilai Harta / Hasil", goldWeight: "Total Berat (Gram)", goldPrice: "Harga Emas Saat Ini (per Gram)", 
            typeTitle: "2. Pilih Jenis Zakat", nisabMsg: "Zakat Belum Wajib (Nisab 85g belum tercapai)", curr: "IDR", locale: "id-ID", ruleLabel: "Nisab & Haul",
            types: ["-- Pilih Jenis Zakat --", "Zakat Fitrah", "Zakat Maal (Tabungan)", "Zakat Emas & Perak", "Zakat Perdagangan", "Zakat Pertanian", "Zakat Rikaz (Temuan)", "Zakat Profesi"],
            fitrah: { tr: "Rasulullah ï·º mewajibkan zakat fitrah sebanyak satu sha' kurma atau satu sha' gandum atas hamba sahaya, orang merdeka, laki-laki, perempuan, kecil maupun besar dari kalangan kaum Muslimin.", src: "HR. BUKHARI NO. 1503", rule: "Nisab: Per Jiwa | Haul: Ramadhan" },
            maal: { tr: "Ambillah zakat dari harta mereka guna membersihkan dan mensucikan mereka, dan berdoalah untuk mereka.", src: "QS. AT-TAWBAH: 103", rule: "Nisab: 85g Emas | Haul: 1 Tahun" },
            emas: { tr: "Dan orang-orang yang menyimpan emas dan perak dan tidak menginfakkannya di jalan Allah, maka berikanlah kabar gembira kepada mereka bahwa mereka akan mendapat azab yang pedih.", src: "QS. AT-TAWBAH: 34", rule: "Nisab: 85g Emas | Haul: 1 Tahun" },
            tijarah: { tr: "Wahai orang-orang yang beriman! Nafkahkanlah sebagian dari hasil usahamu yang baik-baik.", src: "QS. AL-BAQARAH: 267", rule: "Nisab: 85g Emas | Haul: 1 Tahun" },
            zuru: { tr: "Makanlah buahnya apabila ia berbuah dan tunaikanlah haknya (zakatnya) pada hari memetik hasilnya.", src: "QS. AL-AN'AM: 141", rule: "Nisab: 653 Kg Gabah | Haul: Setiap Panen" },
            rikaz: { tr: "Dan pada rikaz (harta karun temuan) wajib dizakatkan seperlimanya (20%).", src: "HR. BUKHARI NO. 1499", rule: "Nisab: Tidak Ada | Haul: Langsung" },
            profesi: { tr: "Wahai orang-orang yang beriman! Infakkanlah sebagian dari hasil usahamu yang baik-baik.", src: "QS. AL-BAQARAH: 267", rule: "Nisab: 85g Emas | Haul: 1 Tahun" }
        },
        en: {
            title: "Zakat Calculator", btn: "Calculate Zakat", soul: "Number of People", price: "Rice Price per Kg", 
            value: "Total Wealth Value", goldWeight: "Total Weight (Grams)", goldPrice: "Gold Price (per Gram)", 
            typeTitle: "2. Select Zakat Type", nisabMsg: "Zakat Not Required (Nisab 85g not reached)", curr: "USD", locale: "en-US", ruleLabel: "Nisab & Haul",
            types: ["-- Select Zakat Type --", "Zakat Fitrah", "Zakat Maal (Savings)", "Zakat Gold & Silver", "Zakat on Trade", "Agricultural Zakat", "Rikaz (Found Treasure)", "Professional Zakat"],
            fitrah: { tr: "The Messenger of Allah ï·º enjoined Zakat-ul-Fitr as one Sha' of dates or barley on every Muslim.", src: "SAHIH BUKHARI", rule: "Nisab: Per Person | Haul: Ramadhan" },
            maal: { tr: "Take Alms from their wealth in order to purify them and sanctify them.", src: "QS. AT-TAWBAH: 103", rule: "Nisab: 85g Gold | Haul: 1 Year" },
            emas: { tr: "And those who hoard gold and silver and spend it not in the way of Allah - give them tidings of a painful punishment.", src: "QS. AT-TAWBAH: 34", rule: "Nisab: 85g Gold | Haul: 1 Year" },
            tijarah: { tr: "O you who have believed, spend from the good things which you have earned.", src: "QS. AL-BAQARAH: 267", rule: "Nisab: 85g Gold | Haul: 1 Year" },
            zuru: { tr: "Eat of its fruit when it yields and give its due [zakat] on the day of its harvest.", src: "QS. AL-AN'AM: 141", rule: "Nisab: 653 Kg Grain | Haul: Harvest" },
            rikaz: { tr: "And on the Rikaz (found treasure) a fifth (20%) is to be paid as Zakat.", src: "SAHIH BUKHARI", rule: "Nisab: None | Haul: Immediate" },
            profesi: { tr: "O you who have believed, spend from the good things which you have earned.", src: "QS. AL-BAQARAH: 267", rule: "Nisab: 85g Gold | Haul: 1 Year" }
        },
        zh: {
            title: "å¤©è¯¾è®¡ç®—å™¨", btn: "è®¡ç®—å¤©è¯¾", soul: "äººæ•°", price: "æ¯å…¬æ–¤å¤§ç±³ä»·æ ¼", 
            value: "è´¢äº§æ€»å€¼", goldWeight: "æ€»é‡é‡ (å…‹)", goldPrice: "å½“å‰é‡‘ä»· (æ¯å…‹)", 
            typeTitle: "2. é€‰æ‹©å¤©è¯¾ç±»åž‹", nisabMsg: "æ— éœ€ç¼´çº³å¤©è¯¾ (æœªè¾¾åˆ° 85 å…‹èµ·å¾ç‚¹)", curr: "CNY", locale: "zh-CN", ruleLabel: "èµ·å¾ç‚¹ä¸ŽæœŸé™",
            types: ["-- é€‰æ‹©å¤©è¯¾ç±»åž‹ --", "å¼€æ–‹å¤©è¯¾ (Fitrah)", "è´¢äº§å¤©è¯¾ (Maal)", "é‡‘é“¶å¤©è¯¾", "å•†ä¸šå¤©è¯¾", "å†œä¸šå¤©è¯¾", "æ„å¤–ä¹‹è´¢ (Rikaz)", "èŒä¸šå¤©è¯¾"],
            fitrah: { tr: "ç©†åœ£ ï·º è§„å®šç©†æ–¯æž—ä¸è®ºå¥´éš¶æˆ–è‡ªç”±äººã€ç”·å¥³è€å°‘ï¼Œéƒ½å¿…é¡»ç¼´çº³ä¸€æ²™é˜¿çš„æ¤°æž£æˆ–å¤§éº¦ä½œä¸ºå¼€æ–‹å¤©è¯¾ã€‚", src: "å¸ƒå“ˆé‡Œåœ£è®­", rule: "èµ·å¾ç‚¹: æŒ‰äººå¤´ | æœŸé™: æ–‹æœˆ" },
            maal: { tr: "ä½ å½“ä»Žä»–ä»¬çš„è´¢äº§ä¸­å¾æ”¶å¤©è¯¾ï¼Œä½ å€Ÿæ­¤ä½¿ä»–ä»¬å¹²å‡€ï¼Œå¹¶ä½¿ä»–ä»¬çº¯æ´ã€‚", src: "å¤å…°ç» 9:103", rule: "èµ·å¾ç‚¹: 85å…‹é»„é‡‘ | æœŸé™: 1å¹´" },
            emas: { tr: "é‚£äº›å›¤ç§¯é‡‘é“¶è€Œä¸ä¸ºä¸»é“è´¹ç”¨çš„äººï¼Œä½ å½“ä»¥ç—›è‹¦çš„åˆ‘ç½šå‘ä»–ä»¬æŠ¥å–œã€‚", src: "å¤å…°ç» 9:34", rule: "èµ·å¾ç‚¹: 85å…‹é»„é‡‘ | æœŸé™: 1å¹´" },
            tijarah: { tr: "ä¿¡é“çš„äººä»¬å•Šï¼ä½ ä»¬å½“åˆ†èˆä½ ä»¬æ‰€æ”¶å…¥çš„æ´å‡€è´¢ç‰©ã€‚", src: "å¤å…°ç» 2:267", rule: "èµ·å¾ç‚¹: 85å…‹é»„é‡‘ | æœŸé™: 1å¹´" },
            zuru: { tr: "å½“ç»“æžœçš„æ—¶å€™ï¼Œä½ ä»¬å¯ä»¥åƒå…¶æžœå®žï¼›åœ¨æ”¶èŽ·çš„æ—¥å­ï¼Œä½ ä»¬å½“æ–½èˆå…¶ä¸­çš„æ³•å®šæé¡¹ã€‚", src: "å¤å…°ç» 6:141", rule: "èµ·å¾ç‚¹: 653å…¬æ–¤è°·ç‰© | æœŸé™: æ”¶èŽ·æ—¶" },
            rikaz: { tr: "åœ¨æ„å¤–å‘çŽ°çš„çå®ï¼ˆRikazï¼‰ä¸­ï¼Œå¿…é¡»ç¼´çº³äº”åˆ†ä¹‹ä¸€ï¼ˆ20%ï¼‰çš„å¤©è¯¾ã€‚", src: "å¸ƒå“ˆé‡Œåœ£è®­", rule: "èµ·å¾ç‚¹: æ—  | æœŸé™: ç«‹å³" },
            profesi: { tr: "ä¿¡é“çš„äººä»¬å•Šï¼ä½ ä»¬å½“åˆ†èˆä½ ä»¬æ‰€æ”¶å…¥çš„æ´å‡€è´¢ç‰©ã€‚", src: "å¤å…°ç» 2:267", rule: "èµ·å¾ç‚¹: 85å…‹é»„é‡‘ | æœŸé™: 1å¹´" }
        },
        fr: {
            title: "Calculateur de Zakat", btn: "Calculer la Zakat", soul: "Nombre de personnes", price: "Prix du riz par kg", 
            value: "Valeur totale des biens", goldWeight: "Poids total (Grammes)", goldPrice: "Prix de l'or (par Gramme)", 
            typeTitle: "2. Choisir le type de Zakat", nisabMsg: "Zakat non requise (Nisab 85g non atteint)", curr: "EUR", locale: "fr-FR", ruleLabel: "Nisab & Haul",
            types: ["-- Choisir le type --", "Zakat Al Fitr", "Zakat Al Maal", "Zakat sur l'Or", "Zakat de Commerce", "Zakat Agricole", "Zakat Al Rikaz", "Zakat Professionnelle"],
            fitrah: { tr: "Le Messager d'Allah ï·º a imposÃ© la Zakat-ul-Fitr d'un Sa' de dattes ou d'orge sur tout musulman.", src: "SAHIH BUKHARI", rule: "Nisab: Par personne | Haul: Ramadan" },
            maal: { tr: "PrÃ©lÃ¨ve une aumÃ´ne sur leurs biens pour les purifier et les bÃ©nir.", src: "CORAN 9:103", rule: "Nisab: 85g d'Or | Haul: 1 An" },
            emas: { tr: "Ã€ ceux qui thÃ©saurisent l'or et l'argent et ne les dÃ©pensent pas dans le sentier d'Allah, annonce un chÃ¢timent douloureux.", src: "CORAN 9:34", rule: "Nisab: 85g d'Or | Haul: 1 An" },
            tijarah: { tr: "Ã” vous qui croyez! DÃ©pensez des meilleures choses que vous avez gagnÃ©es.", src: "CORAN 2:267", rule: "Nisab: 85g d'Or | Haul: 1 An" },
            zuru: { tr: "Mangez-en les fruits, et acquittez-en les droits le jour de la rÃ©colte.", src: "CORAN 6:141", rule: "Nisab: 653 kg de grain | Haul: RÃ©colte" },
            rikaz: { tr: "Sur le trÃ©sor trouvÃ© (Rikaz), le cinquiÃ¨me (20%) doit Ãªtre payÃ©.", src: "SAHIH BUKHARI", rule: "Nisab: Aucun | Haul: ImmÃ©diat" },
            profesi: { tr: "Ã” vous qui croyez! DÃ©pensez des meilleures choses que vous avez gagnÃ©es.", src: "CORAN 2:267", rule: "Nisab: 85g d'Or | Haul: 1 An" }
        },
        de: {
            title: "Zakat-Rechner", btn: "Zakat berechnen", soul: "Anzahl der Personen", price: "Reispreis pro kg", 
            value: "GesamtvermÃ¶gen", goldWeight: "Gesamtgewicht (Gramm)", goldPrice: "Goldpreis (pro Gramm)", 
            typeTitle: "2. Zakat-Typ auswÃ¤hlen", nisabMsg: "Zakat nicht erforderlich (Nisab 85g nicht erreicht)", curr: "EUR", locale: "de-DE", ruleLabel: "Nisab & Haul",
            types: ["-- Typ wÃ¤hlen --", "Zakat Al-Fitr", "Zakat Al-Maal", "Zakat auf Gold", "Zakat Handel", "Landwirtschaft", "Zakat Rikaz", "Zakat Beruf"],
            fitrah: { tr: "Der Gesandte Allahs ï·º ordnete die Zakat-ul-Fitr als einen Sa' an Datteln oder Gerste fÃ¼r jeden Muslim an.", src: "SAHIH BUKHARI", rule: "Nisab: Pro Person | Haul: Ramadan" },
            maal: { tr: "Nimm Almosen von ihrem Besitz, um sie dadurch zu reinigen und zu lÃ¤utern.", src: "SURA 9:103", rule: "Nisab: 85g Gold | Haul: 1 Jahr" },
            emas: { tr: "Und diejenigen, die Gold und Silber horten und es nicht auf Allahs Weg ausgeben, denen verkÃ¼nde schmerzliche Strafe.", src: "SURA 9:34", rule: "Nisab: 85g Gold | Haul: 1 Jahr" },
            tijarah: { tr: "O die ihr glaubt, gebt von den guten Dingen aus, die ihr erworben habt.", src: "SURA 2:267", rule: "Nisab: 85g Gold | Haul: 1 Jahr" },
            zuru: { tr: "Esst von seinen FrÃ¼chten und entrichtet am Tag der Ernte die darauf entfallende GebÃ¼hr.", src: "SURA 6:141", rule: "Nisab: 653 kg Getreide | Haul: Ernte" },
            rikaz: { tr: "Auf den gefundenen Schatz (Rikaz) ist ein FÃ¼nftel (20%) zu entrichten.", src: "SAHIH BUKHARI", rule: "Nisab: Keine | Haul: Sofort" },
            profesi: { tr: "O die ihr glaubt, gebt von den guten Dingen aus, die ihr erworben habt.", src: "SURA 2:267", rule: "Nisab: 85g Gold | Haul: 1 Jahr" }
        },
        es: {
            title: "Calculadora de Zakat", btn: "Calcular Zakat", soul: "NÃºmero de personas", price: "Precio del arroz por kg", 
            value: "Valor total de bienes", goldWeight: "Peso total (Gramos)", goldPrice: "Precio del oro (por Gramo)", 
            typeTitle: "2. Seleccionar tipo de Zakat", nisabMsg: "Zakat no obligatoria (Nisab 85g no alcanzado)", curr: "EUR", locale: "es-ES", ruleLabel: "Nisab & Haul",
            types: ["-- Elegir tipo --", "Zakat Al Fitr", "Zakat Al Maal", "Zakat sobre Oro", "Zakat de Comercio", "Zakat AgrÃ­cola", "Zakat Al Rikaz", "Zakat Profesional"],
            fitrah: { tr: "El Mensajero de Allah ï·º prescribiÃ³ el Zakat-ul-Fitr como un Sa' de dÃ¡tiles o cebada para cada musulmÃ¡n.", src: "SAHIH BUKHARI", rule: "Nisab: Por persona | Haul: RamadÃ¡n" },
            maal: { tr: "Toma de sus bienes una limosna para limpiarles y purificarles con ella.", src: "CORÃN 9:103", rule: "Nisab: 85g de Oro | Haul: 1 AÃ±o" },
            emas: { tr: "A quienes atesoran el oro y la plata y no lo gastan en el camino de Allah, anÃºnciales un castigo doloroso.", src: "CORÃN 9:34", rule: "Nisab: 85g de Oro | Haul: 1 AÃ±o" },
            tijarah: { tr: "Â¡Oh, creyentes! Dad de las cosas buenas que habÃ©is ganado.", src: "CORÃN 2:267", rule: "Nisab: 85g de Oro | Haul: 1 AÃ±o" },
            zuru: { tr: "Comed de sus frutos cuando los den y pagad lo que sea debido el dÃ­a de la cosecha.", src: "CORÃN 6:141", rule: "Nisab: 653 kg grano | Haul: Cosecha" },
            rikaz: { tr: "Sobre el tesoro encontrado (Rikaz), se debe pagar la quinta parte (20%).", src: "SAHIH BUKHARI", rule: "Nisab: Ninguna | Haul: Inmediato" },
            profesi: { tr: "Â¡Oh, creyentes! Dad de las cosas buenas que habÃ©is ganado.", src: "CORÃN 2:267", rule: "Nisab: 85g de Oro | Haul: 1 AÃ±o" }
        }
    };

    const arabicTexts = {
        fitrah: "ÙÙŽØ±ÙŽØ¶ÙŽ Ø±ÙŽØ³ÙÙˆÙ„Ù Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù ï·º Ø²ÙŽÙƒÙŽØ§Ø©ÙŽ Ø§Ù„Ù’ÙÙØ·Ù’Ø±Ù ØµÙŽØ§Ø¹Ù‹Ø§ Ù…ÙÙ†Ù’ ØªÙŽÙ…Ù’Ø±Ù Ø£ÙŽÙˆÙ’ ØµÙŽØ§Ø¹Ù‹Ø§ Ù…ÙÙ†Ù’ Ø´ÙŽØ¹ÙÙŠØ±Ù Ø¹ÙŽÙ„ÙŽÙ‰ Ø§Ù„Ù’Ø¹ÙŽØ¨Ù’Ø¯Ù ÙˆÙŽØ§Ù„Ù’Ø­ÙØ±ÙÙ‘ ÙˆÙŽØ§Ù„Ø°ÙŽÙ‘ÙƒÙŽØ±Ù ÙˆÙŽØ§Ù„Ø£ÙÙ†Ù’Ø«ÙŽÙ‰ ÙˆÙŽØ§Ù„ØµÙŽÙ‘ØºÙÙŠØ±Ù ÙˆÙŽØ§Ù„Ù’ÙƒÙŽØ¨ÙÙŠØ±Ù Ù…ÙÙ†ÙŽ Ø§Ù„Ù’Ù…ÙØ³Ù’Ù„ÙÙ…ÙÙŠÙ†ÙŽ",
        maal: "Ø®ÙØ°Ù’ Ù…ÙÙ†Ù’ Ø£ÙŽÙ…Ù’ÙˆÙŽØ§Ù„ÙÙ‡ÙÙ…Ù’ ØµÙŽØ¯ÙŽÙ‚ÙŽØ©Ù‹ ØªÙØ·ÙŽÙ‡ÙÙ‘Ø±ÙÙ‡ÙÙ…Ù’ ÙˆÙŽØªÙØ²ÙŽÙƒÙÙ‘ÙŠÙ‡ÙÙ…Ù’ Ø¨ÙÙ‡ÙŽØ§ ÙˆÙŽØµÙŽÙ„ÙÙ‘ Ø¹ÙŽÙ„ÙŽÙŠÙ’Ù‡ÙÙ…Ù’",
        emas: "ÙˆÙŽØ§Ù„ÙŽÙ‘Ø°ÙÙŠÙ†ÙŽ ÙŠÙŽÙƒÙ’Ù†ÙØ²ÙÙˆÙ†ÙŽ Ø§Ù„Ø°ÙŽÙ‘Ù‡ÙŽØ¨ÙŽ ÙˆÙŽØ§Ù„Ù’ÙÙØ¶ÙŽÙ‘Ø©ÙŽ ÙˆÙŽÙ„ÙŽØ§ ÙŠÙÙ†Ù’ÙÙÙ‚ÙÙˆÙ†ÙŽÙ‡ÙŽØ§ ÙÙÙŠ Ø³ÙŽØ¨ÙÙŠÙ„Ù Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù ÙÙŽØ¨ÙŽØ´ÙÙ‘Ø±Ù’Ù‡ÙÙ…Ù’ Ø¨ÙØ¹ÙŽØ°ÙŽØ§Ø¨Ù Ø£ÙŽÙ„ÙÙŠÙ…Ù",
        tijarah: "ÙŠÙŽØ§ Ø£ÙŽÙŠÙÙ‘Ù‡ÙŽØ§ Ø§Ù„ÙŽÙ‘Ø°ÙÙŠÙ†ÙŽ Ø¢Ù…ÙŽÙ†ÙÙˆØ§ Ø£ÙŽÙ†Ù’ÙÙÙ‚ÙÙˆØ§ Ù…ÙÙ†Ù’ Ø·ÙŽÙŠÙÙ‘Ø¨ÙŽØ§ØªÙ Ù…ÙŽØ§ ÙƒÙŽØ³ÙŽØ¨Ù’ØªÙÙ…Ù’",
        zuru: "ÙƒÙÙ„ÙÙˆØ§ Ù…ÙÙ†Ù’ Ø«ÙŽÙ…ÙŽØ±ÙÙ‡Ù Ø¥ÙØ°ÙŽØ§ Ø£ÙŽØ«Ù’Ù…ÙŽØ±ÙŽ ÙˆÙŽØ¢ØªÙÙˆØ§ Ø­ÙŽÙ‚ÙŽÙ‘Ù‡Ù ÙŠÙŽÙˆÙ’MÙŽ Ø­ÙŽØµÙŽØ§Ø¯ÙÙ‡Ù",
        rikaz: "ÙˆÙŽÙÙÙŠ Ø§Ù„Ø±ÙÙ‘ÙƒÙŽØ§Ø²Ù Ø§Ù„Ù’Ø®ÙÙ…ÙØ³Ù",
        profesi: "ÙŠÙŽØ§ Ø£ÙŽÙŠÙÙ‘Ù‡ÙŽØ§ Ø§Ù„ÙŽÙ‘Ø°ÙÙŠÙ†ÙŽ Ø¢Ù…ÙŽÙ†ÙÙˆØ§ Ø£ÙŽÙ†Ù’ÙÙÙ‚ÙÙˆØ§ Ù…ÙÙ†Ù’ Ø·ÙŽÙŠÙÙ‘Ø¨ÙŽØ§ØªÙ Ù…ÙŽØ§ ÙƒÙŽØ³ÙŽØ¨Ù’ØªÙÙ…Ù’"
    };

    function updateUI() {
        const l = document.getElementById('language').value;
        const d = zakatData[l] || zakatData['en'];
        const idDefault = zakatData['id'];

        document.getElementById('appTitle').innerText = d.title;
        document.getElementById('btnCalc').innerText = d.btn;
        document.getElementById('lblPrice').innerText = d.price;
        document.getElementById('lblSoul').innerText = d.soul;
        document.getElementById('lblValue').innerText = d.value;
        document.getElementById('lblGoldWeight').innerText = d.goldWeight;
        document.getElementById('lblGoldPrice').innerText = d.goldPrice;
        document.getElementById('lblRule').innerText = d.ruleLabel;
        document.getElementById('lblType').innerText = d.typeTitle || idDefault.typeTitle;

        const optIds = ['optDefault', 'optFitrah', 'optMaal', 'optEmas', 'optTijarah', 'optZuru', 'optRikaz', 'optProfesi'];
        optIds.forEach((id, index) => {
            document.getElementById(id).innerText = d.types[index] || idDefault.types[index];
        });

        document.getElementById('resultBox').style.display = 'none';
    }

    function toggleInputs() {
        const type = document.getElementById('zakatType').value;
        document.getElementById('dynamicInputs').style.display = type ? 'block' : 'none';
        document.getElementById('fitrahFields').style.display = type === 'fitrah' ? 'block' : 'none';
        document.getElementById('emasFields').style.display = type === 'emas' ? 'block' : 'none';
        document.getElementById('otherFields').style.display = (type !== 'fitrah' && type !== 'emas' && type !== '') ? 'block' : 'none';
    }

    function calculateZakat() {
        const lang = document.getElementById('language').value;
        const type = document.getElementById('zakatType').value;
        if (!type) return;

        const d = zakatData[lang] || zakatData['en'];
        const idD = zakatData['id'];
        let total = 0;
        let nisabReached = true;

        if (type === 'fitrah') {
            const price = parseFloat(document.getElementById('ricePrice').value) || 0;
            const souls = parseFloat(document.getElementById('soulCount').value) || 0;
            total = 2.5 * price * souls; 
        } else if (type === 'emas') {
            const weight = parseFloat(document.getElementById('goldWeight').value) || 0;
            const price = parseFloat(document.getElementById('goldPrice').value) || 0;
            if (weight < 85) { nisabReached = false; total = 0; }
            else { total = (weight * price) * 0.025; }
        } else {
            const val = parseFloat(document.getElementById('totalValue').value) || 0;
            const rates = { maal: 0.025, tijarah: 0.025, zuru: 0.05, rikaz: 0.20, profesi: 0.025 };
            total = val * (rates[type] || 0.025);
        }

        const formatter = new Intl.NumberFormat(d.locale, { style: 'currency', currency: d.curr, maximumFractionDigits: 0 });
        document.getElementById('resTotal').innerText = formatter.format(total);
        
        const nisabWarn = document.getElementById('nisabWarn');
        if (!nisabReached) {
            nisabWarn.innerText = d.nisabMsg || idD.nisabMsg;
            nisabWarn.style.display = 'block';
        } else {
            nisabWarn.style.display = 'none';
        }

        const content = d[type] || idD[type];
        document.getElementById('resArabic').innerText = arabicTexts[type] || "";
        document.getElementById('resTrans').innerText = content ? `"${content.tr}"` : "";
        document.getElementById('resSource').innerText = content ? content.src : "";
        document.getElementById('resRule').innerText = content ? content.rule : "";
        document.getElementById('resultBox').style.display = 'block';
        
        document.getElementById('resultBox').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
    }

    // Animasi Latar Belakang
    const bg = document.getElementById('bgLayer');
    const icons = ['â­', 'âœ¨', 'ðŸŒ™', 'ðŸŒ¿'];
    for(let i=0; i<12; i++) {
        let span = document.createElement('span'); 
        span.className = 'floating-icon';
        span.innerText = icons[Math.floor(Math.random()*icons.length)];
        span.style.left = Math.random() * 100 + 'vw';
        span.style.animationDelay = Math.random() * 5 + 's';
        bg.appendChild(span);
    }
    updateUI();
</script>
</body>
</html>
