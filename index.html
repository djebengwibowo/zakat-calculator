<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalkulator Zakat - Djebeng Wibowo</title>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Plus+Jakarta+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root { --nusuk-gold: #c5a059; --nusuk-green: #0b4a3f; --nusuk-bg: #f9f7f2; --white: #ffffff; }
        body { font-family: 'Plus Jakarta Sans', sans-serif; background: var(--nusuk-bg); margin: 0; padding: 20px 15px; display: flex; justify-content: center; align-items: flex-start; min-height: 100vh; overflow-x: hidden; position: relative; }
        .bg-animate { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -2; background: linear-gradient(135deg, #f9f7f2 0%, #ece5d5 100%); }
        .floating-icon { position: absolute; opacity: 0.6; animation: floatUp 15s infinite linear; filter: drop-shadow(0 0 10px rgba(197, 160, 89, 0.4)); z-index: -1; }
        @keyframes floatUp { 0% { transform: translateY(110vh) rotate(0deg); opacity: 0; } 10% { opacity: 0.6; } 90% { opacity: 0.6; } 100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; } }
        .container { width: 100%; max-width: 500px; background: var(--white); border-radius: 20px; box-shadow: 0 15px 35px rgba(0,0,0,0.08); padding: 25px 20px; border-top: 8px solid var(--nusuk-gold); position: relative; z-index: 5; margin-top: 20px; }
        header { text-align: center; margin-bottom: 20px; }
        h1 { color: var(--nusuk-green); font-size: 1.6rem; margin: 0; font-weight: 800; letter-spacing: -0.5px; }
        .form-section { background: #fafafa; padding: 15px; border-radius: 14px; border: 1px solid #f0f0f0; margin-bottom: 12px; }
        label { display: block; margin-bottom: 6px; font-weight: 600; color: var(--nusuk-green); font-size: 0.8rem; }
        select, input { width: 100%; padding: 12px; border: 1.5px solid #e8e8e8; border-radius: 10px; font-size: 0.9rem; box-sizing: border-box; appearance: none; background-color: white; }
        button { width: 100%; padding: 15px; background: var(--nusuk-green); color: white; border: none; border-radius: 12px; font-size: 1rem; font-weight: 700; cursor: pointer; margin-top: 5px; transition: 0.3s; box-shadow: 0 4px 15px rgba(11, 74, 63, 0.2); }
        button:hover { background: #08362e; transform: translateY(-1px); }
        .result-card { background: #fdfaf3; border: 1.5px solid #f1e6cf; border-radius: 16px; padding: 20px; margin-top: 25px; animation: fadeIn 0.5s ease; display: none; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .total-amount { font-size: 1.8rem; color: var(--nusuk-green); font-weight: 800; text-align: center; margin: 10px 0; word-wrap: break-word; }
        .arabic { font-family: 'Amiri', serif; font-size: 1.1rem; text-align: center; direction: rtl; line-height: 1.6; margin-bottom: 12px; color: var(--nusuk-green); padding: 0 5px; }
        .translation { font-style: italic; font-size: 0.75rem; color: #555; text-align: center; margin-bottom: 8px; line-height: 1.5; }
        .source-tag { font-weight: 700; color: var(--nusuk-gold); font-size: 0.7rem; text-align: center; display: block; text-transform: uppercase; margin-bottom: 15px; }
        .rule-box { border-top: 1px dashed #dcc7a1; padding-top: 12px; margin-top: 5px; text-align: center; }
        .rule-tag { font-size: 0.65rem; color: var(--nusuk-green); font-weight: 700; background: #eee5d3; padding: 3px 8px; border-radius: 20px; display: inline-block; margin-bottom: 4px; }
        .rule-text { font-size: 0.75rem; color: #444; display: block; font-weight: 500; }
        .copyright { text-align: center; margin-top: 20px; font-size: 0.7rem; color: #999; font-weight: 500; padding-bottom: 10px; }
        .copyright a { color: #999; text-decoration: none; border-bottom: 1px solid transparent; }
    </style>
</head>
<body>
    <div class="bg-animate" id="bgLayer"></div>
    <div class="container">
        <header>
            <h1 id="appTitle">Kalkulator Zakat</h1>
        </header>

        <div class="form-section">
            <label id="lblLang">1. Pilih Bahasa / Select Language</label>
            <select id="language" onchange="updateUI()">
                <option value="id">Bahasa Indonesia</option>
                <option value="en">English</option>
                <option value="zh">ä¸­æ–‡ (Chinese)</option>
                <option value="fr">FranÃ§ais (French)</option>
                <option value="de">Deutsch (German)</option>
                <option value="es">EspaÃ±ol (Spanish)</option>
            </select>
        </div>

        <div class="form-section">
            <label id="lblType">2. Pilih Jenis Zakat</label>
            <select id="zakatType" onchange="toggleInputs()">
                <option value="" id="optDefault">-- Pilih Jenis Zakat --</option>
                <option value="fitrah" id="optFitrah">Zakat Fitrah</option>
                <option value="maal" id="optMaal">Zakat Maal (Tabungan/Uang)</option>
                <option value="emas" id="optEmas">Zakat Emas & Perak</option>
                <option value="tijarah" id="optTijarah">Zakat Perdagangan</option>
                <option value="zuru" id="optZuru">Zakat Pertanian</option>
                <option value="rikaz" id="optRikaz">Zakat Rikaz (Temuan 20%)</option>
                <option value="profesi" id="optProfesi">Zakat Profesi (Gaji)</option>
            </select>
        </div>

        <div id="dynamicInputs" class="form-section" style="display:none;">
            <div id="fitrahFields" style="display:none;">
                <label id="lblPrice">Harga Beras per Kg</label>
                <input type="number" id="ricePrice" placeholder="0">
                <label id="lblSoul" style="margin-top:10px;">Jumlah Orang (Jiwa)</label>
                <input type="number" id="soulCount" placeholder="0">
            </div>
            <div id="otherFields" style="display:none;">
                <label id="lblValue">Total Nilai Harta / Hasil</label>
                <input type="number" id="totalValue" placeholder="0">
            </div>
        </div>

        <button id="btnCalc" onclick="calculateZakat()">Hitung Zakat</button>

        <div id="resultBox" class="result-card">
            <div id="resTotal" class="total-amount"></div>
            <div id="resArabic" class="arabic"></div>
            <div id="resTrans" class="translation"></div>
            <div id="resSource" class="source-tag"></div>
            
            <div class="rule-box">
                <span id="lblRule" class="rule-tag">Nisab & Haul</span>
                <span id="resRule" class="rule-text"></span>
            </div>
        </div>
        
        <div class="copyright">
            Â© 2026 <a href="https://djebengwibowo.github.io/myblog/#about" target="_blank">Djebeng Wibowo</a>. All Right Reserved.
        </div>
    </div>

<script>
    const zakatData = {
        id: {
            title: "Kalkulator Zakat", btn: "Hitung Zakat", soul: "Jumlah Orang (Jiwa)", price: "Harga Beras per Kg", value: "Total Nilai Harta", curr: "IDR", locale: "id-ID", ruleLabel: "Nisab & Haul", lblType: "2. Pilih Jenis Zakat",
            opts: ["-- Pilih Jenis Zakat --", "Zakat Fitrah", "Zakat Maal (Tabungan/Uang)", "Zakat Emas & Perak", "Zakat Perdagangan", "Zakat Pertanian", "Zakat Rikaz (Temuan 20%)", "Zakat Profesi (Gaji)"],
            fitrah: { tr: "Rasulullah ï·º mewajibkan zakat fitrah...", src: "HR. BUKHARI & MUSLIM", rule: "Nisab: Per Jiwa | Haul: Ramadhan" },
            maal: { tr: "Ambillah zakat dari harta mereka...", src: "QS. AT-TAWBAH: 103", rule: "Nisab: 85g Emas | Haul: 1 Tahun" },
            emas: { tr: "Dan orang-orang yang menyimpan emas...", src: "QS. AT-TAWBAH: 34", rule: "Nisab: 85g Emas | Haul: 1 Tahun" },
            tijarah: { tr: "Nafkahkanlah sebagian dari hasil usahamu...", src: "QS. AL-BAQARAH: 267", rule: "Nisab: 85g Emas | Haul: 1 Tahun" },
            zuru: { tr: "Tunaikanlah haknya pada hari memetik hasilnya.", src: "QS. AL-AN'AM: 141", rule: "Nisab: 653 Kg Gabah" },
            rikaz: { tr: "Pada rikaz wajib dizakatkan seperlimanya.", src: "HR. BUKHARI", rule: "Nisab: Tidak Ada" },
            profesi: { tr: "Infakkanlah sebagian dari hasil usahamu.", src: "QS. AL-BAQARAH: 267", rule: "Nisab: 520kg Beras" }
        },
        en: {
            title: "Zakat Calculator", btn: "Calculate Zakat", soul: "Number of People", price: "Rice Price per Kg", value: "Total Wealth Value", curr: "USD", locale: "en-US", ruleLabel: "Nisab & Haul", lblType: "2. Select Zakat Type",
            opts: ["-- Select Zakat Type --", "Zakat Fitrah", "Zakat Maal (Savings)", "Zakat Gold & Silver", "Zakat on Trade", "Zakat on Agriculture", "Zakat Rikaz (Treasure)", "Zakat on Profession"],
            fitrah: { tr: "The Prophet ï·º enjoined Zakat-ul-Fitr...", src: "SAHIH BUKHARI", rule: "Nisab: Per Person | Haul: Ramadhan" },
            maal: { tr: "Take from their wealth a charity...", src: "QS. AT-TAWBAH: 103", rule: "Nisab: 85g Gold | Haul: 1 Year" },
            emas: { tr: "Those who hoard gold and silver...", src: "QS. AT-TAWBAH: 34", rule: "Nisab: 85g Gold | Haul: 1 Year" },
            tijarah: { tr: "Spend from the good things you earned...", src: "QS. AL-BAQARAH: 267", rule: "Nisab: 85g Gold | Haul: 1 Year" },
            zuru: { tr: "Give its due on the day of its harvest.", src: "QS. AL-AN'AM: 141", rule: "Nisab: 653 Kg Grain" },
            rikaz: { tr: "One-fifth is to be paid on Rikaz.", src: "SAHIH BUKHARI", rule: "Nisab: None" },
            profesi: { tr: "Spend from the good things you earned.", src: "QS. AL-BAQARAH: 267", rule: "Nisab: 520kg Rice" }
        },
        zh: {
            title: "å¤©è¯¾è®¡ç®—å™¨", btn: "è®¡ç®—å¤©è¯¾", soul: "äººæ•°", price: "å¤§ç±³å•ä»·/å…¬æ–¤", value: "æ€»èµ„äº§ä»·å€¼", curr: "CNY", locale: "zh-CN", ruleLabel: "èµ·å¾ç‚¹ä¸æŒæœ‰æœŸ", lblType: "2. é€‰æ‹©å¤©è¯¾ç±»å‹",
            opts: ["-- é€‰æ‹©å¤©è¯¾ç±»å‹ --", "å¼€æ–‹æ (Fitrah)", "è´¢äº§å¤©è¯¾ (Maal)", "é‡‘é“¶å¤©è¯¾", "å•†ä¸šå¤©è¯¾", "å†œä¸šå¤©è¯¾", "æ„å¤–è´¢å¤©è¯¾ (Rikaz)", "èŒä¸šæ”¶å…¥å¤©è¯¾"],
            fitrah: { tr: "ç©†åœ£ ï·º è§„å®šç©†æ–¯æ—ç¼´çº³å¼€æ–‹æ...", src: "å¸ƒå“ˆé‡Œåœ£è®­", rule: "èµ·å¾ç‚¹ï¼šæ¯äºº | æŒæœ‰æœŸï¼šæ–‹æœˆ" },
            maal: { tr: "ä½ å½“ä»ä»–ä»¬çš„è´¢äº§ä¸­å¾æ”¶æ–½èˆ...", src: "å¿æ‚”ç« ï¼š103", rule: "èµ·å¾ç‚¹ï¼š85å…‹é»„é‡‘ | æŒæœ‰æœŸï¼š1å¹´" },
            emas: { tr: "çª–è—é‡‘é“¶è€Œä¸ä¸ºä¸»é“æ–½èˆçš„äºº...", src: "å¿æ‚”ç« ï¼š34", rule: "èµ·å¾ç‚¹ï¼š85å…‹é»„é‡‘ | æŒæœ‰æœŸï¼š1å¹´" },
            tijarah: { tr: "ä½ ä»¬å½“æ–½èˆä½ ä»¬æ‰€è·å¾—çš„å¥½å“...", src: "é»„ç‰›ç« ï¼š267", rule: "èµ·å¾ç‚¹ï¼š85å…‹é»„é‡‘ | æŒæœ‰æœŸï¼š1å¹´" },
            zuru: { tr: "åœ¨æ”¶è·çš„æ—¥å­ï¼Œå½“äº¤ä»˜å…¶åº”çº³çš„è¯¾ç¨ã€‚", src: "ç‰²ç•œç« ï¼š141", rule: "èµ·å¾ç‚¹ï¼š653å…¬æ–¤è°·ç‰©" },
            rikaz: { tr: "åŸ‹è—çš„å®ç‰©åº”çº³äº”åˆ†ä¹‹ä¸€çš„è¯¾ç¨ã€‚", src: "å¸ƒå“ˆé‡Œåœ£è®­", rule: "èµ·å¾ç‚¹ï¼šæ— " },
            profesi: { tr: "ä½ ä»¬å½“æ–½èˆä½ ä»¬æ‰€è·å¾—çš„å¥½å“ã€‚", src: "é»„ç‰›ç« ï¼š267", rule: "èµ·å¾ç‚¹ï¼š520å…¬æ–¤å¤§ç±³" }
        },
        fr: {
            title: "Calculateur de Zakat", btn: "Calculer la Zakat", soul: "Nombre de personnes", price: "Prix du riz/kg", value: "Valeur totale des biens", curr: "EUR", locale: "fr-FR", ruleLabel: "Nisab & Haul", lblType: "2. Choisir le type de Zakat",
            opts: ["-- Choisir le type --", "Zakat Al Fitr", "Zakat Al Maal", "Zakat sur l'Or", "Zakat Commerciale", "Zakat Agricole", "Zakat Rikaz (TrÃ©sor)", "Zakat Professionnelle"],
            fitrah: { tr: "Le ProphÃ¨te ï·º a imposÃ© la Zakat Al-Fitr...", src: "SAHIH BUKHARI", rule: "Nisab: Per Personne | Haul: Ramadan" },
            maal: { tr: "PrÃ©lÃ¨ve de leurs biens une aumÃ´ne...", src: "QS. AT-TAWBAH: 103", rule: "Nisab: 85g d'Or | Haul: 1 An" },
            emas: { tr: "Ceux qui thÃ©saurisent l'or et l'argent...", src: "QS. AT-TAWBAH: 34", rule: "Nisab: 85g d'Or | Haul: 1 An" },
            tijarah: { tr: "DÃ©pensez des meilleures choses que vous avez gagnÃ©es...", src: "QS. AL-BAQARAH: 267", rule: "Nisab: 85g d'Or | Haul: 1 An" },
            zuru: { tr: "Acquittez-en les droits le jour de la rÃ©colte.", src: "QS. AL-AN'AM: 141", rule: "Nisab: 653 Kg de Grain" },
            rikaz: { tr: "Le cinquiÃ¨me est dÃ» sur le Rikaz.", src: "SAHIH BUKHARI", rule: "Nisab: Aucun" },
            profesi: { tr: "DÃ©pensez des meilleures choses que vous avez gagnÃ©es.", src: "QS. AL-BAQARAH: 267", rule: "Nisab: 520kg de Riz" }
        },
        de: {
            title: "Zakat Rechner", btn: "Zakat Berechnen", soul: "Anzahl Personen", price: "Reispreis pro Kg", value: "GesamtvermÃ¶gen", curr: "EUR", locale: "de-DE", ruleLabel: "Nisab & Haul", lblType: "2. Zakat-Art wÃ¤hlen",
            opts: ["-- Art wÃ¤hlen --", "Zakat Al Fitr", "Zakat Al Maal", "Zakat auf Gold", "Handels-Zakat", "Landwirtschafts-Zakat", "Zakat Rikaz (Schatz)", "Berufs-Zakat"],
            fitrah: { tr: "Der Prophet ï·º ordnete Zakat Al-Fitr an...", src: "SAHIH BUKHARI", rule: "Nisab: Pro Kopf | Haul: Ramadan" },
            maal: { tr: "Nimm von ihrem Besitz ein Almosen...", src: "QS. AT-TAWBAH: 103", rule: "Nisab: 85g Gold | Haul: 1 Jahr" },
            emas: { tr: "Diejenigen, die Gold und Silber horten...", src: "QS. AT-TAWBAH: 34", rule: "Nisab: 85g Gold | Haul: 1 Jahr" },
            tijarah: { tr: "Spendet von den guten Dingen, die ihr erworben habt...", src: "QS. AL-BAQARAH: 267", rule: "Nisab: 85g Gold | Haul: 1 Jahr" },
            zuru: { tr: "Gebt davon am Tag der Ernte.", src: "QS. AL-AN'AM: 141", rule: "Nisab: 653 Kg Getreide" },
            rikaz: { tr: "Ein FÃ¼nftel ist auf Rikaz fÃ¤llig.", src: "SAHIH BUKHARI", rule: "Nisab: Keines" },
            profesi: { tr: "Spendet von den guten Dingen, die ihr erworben habt.", src: "QS. AL-BAQARAH: 267", rule: "Nisab: 520kg Reis" }
        },
        es: {
            title: "Calculadora de Zakat", btn: "Calcular Zakat", soul: "NÃºmero de Personas", price: "Precio Arroz por Kg", value: "Valor Total de Bienes", curr: "EUR", locale: "es-ES", ruleLabel: "Nisab y Haul", lblType: "2. Seleccionar Tipo",
            opts: ["-- Seleccionar Tipo --", "Zakat Al Fitr", "Zakat Al Maal", "Zakat de Oro", "Zakat de Comercio", "Zakat AgrÃ­cola", "Zakat Rikaz (Tesoro)", "Zakat de ProfesiÃ³n"],
            fitrah: { tr: "El Profeta ï·º prescribiÃ³ Zakat Al-Fitr...", src: "SAHIH BUKHARI", rule: "Nisab: Por Persona | Haul: RamadÃ¡n" },
            maal: { tr: "Toma de sus bienes una limosna...", src: "QS. AT-TAWBAH: 103", rule: "Nisab: 85g Oro | Haul: 1 AÃ±o" },
            emas: { tr: "Aquellos que atesoran oro y plata...", src: "QS. AT-TAWBAH: 34", rule: "Nisab: 85g Oro | Haul: 1 AÃ±o" },
            tijarah: { tr: "Dona de las cosas buenas que has ganado...", src: "QS. AL-BAQARAH: 267", rule: "Nisab: 85g Oro | Haul: 1 AÃ±o" },
            zuru: { tr: "Pagad lo debido el dÃ­a de la cosecha.", src: "QS. AL-AN'AM: 141", rule: "Nisab: 653 Kg de Grano" },
            rikaz: { tr: "Se debe pagar un quinto sobre el Rikaz.", src: "SAHIH BUKHARI", rule: "Nisab: Ninguno" },
            profesi: { tr: "Dona de las cosas buenas que has ganado.", src: "QS. AL-BAQARAH: 267", rule: "Nisab: 520kg de Arroz" }
        }
    };

    const arabicTexts = {
        fitrah: "ÙÙØ±ÙØ¶Ù Ø±ÙØ³ÙÙˆÙ„Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù ï·º Ø²ÙÙƒÙØ§Ø©Ù Ø§Ù„Ù’ÙÙØ·Ù’Ø±Ù ØµÙØ§Ø¹Ù‹Ø§ Ù…ÙÙ†Ù’ ØªÙÙ…Ù’Ø±Ù Ø£ÙÙˆÙ’ ØµÙØ§Ø¹Ù‹Ø§ Ù…ÙÙ†Ù’ Ø´ÙØ¹ÙÙŠØ±Ù Ø¹ÙÙ„ÙÙ‰ Ø§Ù„Ù’Ø¹ÙØ¨Ù’Ø¯Ù ÙˆÙØ§Ù„Ù’Ø­ÙØ±ÙÙ‘ ÙˆÙØ§Ù„Ø°ÙÙ‘ÙƒÙØ±Ù ÙˆÙØ§Ù„Ø£ÙÙ†Ù’Ø«ÙÙ‰ ÙˆÙØ§Ù„ØµÙÙ‘ØºÙÙŠØ±Ù ÙˆÙØ§Ù„Ù’ÙƒÙØ¨ÙÙŠØ±Ù Ù…ÙÙ†Ù Ø§Ù„Ù’Ù…ÙØ³Ù’Ù„ÙÙ…ÙÙŠÙ†Ù",
        maal: "Ø®ÙØ°Ù’ Ù…ÙÙ†Ù’ Ø£ÙÙ…Ù’ÙˆÙØ§Ù„ÙÙ‡ÙÙ…Ù’ ØµÙØ¯ÙÙ‚ÙØ©Ù‹ ØªÙØ·ÙÙ‡ÙÙ‘Ø±ÙÙ‡ÙÙ…Ù’ ÙˆÙØªÙØ²ÙÙƒÙÙ‘ÙŠÙ‡ÙÙ…Ù’ Ø¨ÙÙ‡ÙØ§ ÙˆÙØµÙÙ„ÙÙ‘ Ø¹ÙÙ„ÙÙŠÙ’Ù‡ÙÙ…Ù’ Ø¥ÙÙ†ÙÙ‘ ØµÙÙ„ÙØ§ØªÙÙƒÙ Ø³ÙÙƒÙÙ†ÙŒ Ù„ÙÙ‡ÙÙ…Ù’",
        emas: "ÙˆÙØ§Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù ÙŠÙÙƒÙ’Ù†ÙØ²ÙÙˆÙ†Ù Ø§Ù„Ø°ÙÙ‘Ù‡ÙØ¨Ù ÙˆÙØ§Ù„Ù’ÙÙØ¶ÙÙ‘Ø©Ù ÙˆÙÙ„ÙØ§ ÙŠÙÙ†Ù’ÙÙÙ‚ÙÙˆÙ†ÙÙ‡ÙØ§ ÙÙÙŠ Ø³ÙØ¨ÙÙŠÙ„Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙÙØ¨ÙØ´ÙÙ‘Ø±Ù’Ù‡ÙÙ…Ù’ Ø¨ÙØ¹ÙØ°ÙØ§Ø¨Ù Ø£ÙÙ„ÙÙŠÙ…Ù",
        tijarah: "ÙŠÙØ§ Ø£ÙÙŠÙÙ‘Ù‡ÙØ§ Ø§Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù Ø¢Ù…ÙÙ†ÙÙˆØ§ Ø£ÙÙ†Ù’ÙÙÙ‚ÙÙˆØ§ Ù…ÙÙ†Ù’ Ø·ÙÙŠÙÙ‘Ø¨ÙØ§ØªÙ Ù…ÙØ§ ÙƒÙØ³ÙØ¨Ù’ØªÙÙ…Ù’ ÙˆÙÙ…ÙÙ…ÙÙ‘Ø§ Ø£ÙØ®Ù’Ø±ÙØ¬Ù’Ù†ÙØ§ Ù„ÙÙƒÙÙ…Ù’ Ù…ÙÙ†Ù Ø§Ù„Ù’Ø£ÙØ±Ù’Ø¶Ù",
        zuru: "ÙƒÙÙ„ÙÙˆØ§ Ù…ÙÙ†Ù’ Ø«ÙÙ…ÙØ±ÙÙ‡Ù Ø¥ÙØ°ÙØ§ Ø£ÙØ«Ù’Ù…ÙØ±Ù ÙˆÙØ¢ØªÙÙˆØ§ Ø­ÙÙ‚ÙÙ‘Ù‡Ù ÙŠÙÙˆÙ’Ù…Ù Ø­ÙØµÙØ§Ø¯ÙÙ‡Ù",
        rikaz: "Ø¹ÙÙ†Ù’ Ø£ÙØ¨ÙÙŠ Ù‡ÙØ±ÙÙŠÙ’Ø±ÙØ©Ù Ø±ÙØ¶ÙÙŠÙ Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø¹ÙÙ†Ù’Ù‡Ù Ø£ÙÙ†ÙÙ‘ Ø±ÙØ³ÙÙˆÙ„Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù ï·º Ù‚ÙØ§Ù„Ù: ÙˆÙÙÙÙŠ Ø§Ù„Ø±ÙÙ‘ÙƒÙØ§Ø²Ù Ø§Ù„Ù’Ø®ÙÙ…ÙØ³Ù",
        profesi: "ÙŠÙØ§ Ø£ÙÙŠÙÙ‘Ù‡ÙØ§ Ø§Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù Ø¢Ù…ÙÙ†ÙÙˆØ§ Ø£ÙÙ†Ù’ÙÙÙ‚ÙÙˆØ§ Ù…ÙÙ†Ù’ Ø·ÙÙŠÙÙ‘Ø¨ÙØ§ØªÙ Ù…ÙØ§ ÙƒÙØ³ÙØ¨Ù’ØªÙÙ…Ù’"
    };

    function updateUI() {
        const l = document.getElementById('language').value;
        const d = zakatData[l] || zakatData['en'];
        
        document.getElementById('appTitle').innerText = d.title;
        document.getElementById('btnCalc').innerText = d.btn;
        document.getElementById('lblPrice').innerText = d.price + ` (${d.curr})`;
        document.getElementById('lblSoul').innerText = d.soul;
        document.getElementById('lblValue').innerText = d.value;
        document.getElementById('lblRule').innerText = d.ruleLabel;
        document.getElementById('lblType').innerText = d.lblType;

        // Menerjemahkan opsi-opsi dalam dropdown
        const select = document.getElementById('zakatType');
        for (let i = 0; i < select.options.length; i++) {
            select.options[i].text = d.opts[i];
        }

        document.getElementById('resultBox').style.display = 'none';
    }

    function toggleInputs() {
        const type = document.getElementById('zakatType').value;
        document.getElementById('dynamicInputs').style.display = type ? 'block' : 'none';
        document.getElementById('fitrahFields').style.display = type === 'fitrah' ? 'block' : 'none';
        document.getElementById('otherFields').style.display = type !== 'fitrah' && type !== '' ? 'block' : 'none';
    }

    function calculateZakat() {
        const lang = document.getElementById('language').value;
        const type = document.getElementById('zakatType').value;
        if (!type) return;

        const d = zakatData[lang] || zakatData['en'];
        let total = 0;

        if (type === 'fitrah') {
            const price = parseFloat(document.getElementById('ricePrice').value) || 0;
            const souls = parseFloat(document.getElementById('soulCount').value) || 0;
            total = 2.5 * price * souls; 
        } else {
            const val = parseFloat(document.getElementById('totalValue').value) || 0;
            const rates = { maal: 0.025, emas: 0.025, tijarah: 0.025, zuru: 0.05, rikaz: 0.20, profesi: 0.025 };
            total = val * (rates[type] || 0.025);
        }

        const formatter = new Intl.NumberFormat(d.locale, { style: 'currency', currency: d.curr, maximumFractionDigits: 0 });
        document.getElementById('resTotal').innerText = formatter.format(total);
        
        const content = d[type] || zakatData['id'][type];
        document.getElementById('resArabic').innerText = arabicTexts[type];
        document.getElementById('resTrans').innerText = `"${content.tr}"`;
        document.getElementById('resSource').innerText = content.src;
        document.getElementById('resRule').innerText = content.rule;
        document.getElementById('resultBox').style.display = 'block';
        document.getElementById('resultBox').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
    }

    const bg = document.getElementById('bgLayer');
    const icons = ['â­', 'âœ¨', 'ğŸŒ™', 'ğŸŒ¿'];
    for(let i=0; i<10; i++) {
        let span = document.createElement('span'); 
        span.className = 'floating-icon';
        span.innerText = icons[Math.floor(Math.random()*icons.length)];
        span.style.left = Math.random() * 100 + 'vw';
        span.style.animationDelay = Math.random() * 5 + 's';
        span.style.fontSize = (Math.random() * 10 + 15) + 'px';
        bg.appendChild(span);
    }
</script>
</body>
</html>
